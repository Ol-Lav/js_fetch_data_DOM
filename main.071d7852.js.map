{"version":3,"sources":["scripts/main.js"],"names":["listUrl","detailsUrl","list","document","createElement","getPhones","fetch","then","response","ok","json","setTimeout","Error","status","statusText","getPhonesDetails","phone","phones","phoneList","map","id","Promise","all","phoneInfo","forEach","phoneDOM","innerHTML","name","append","catch","error","body"],"mappings":";AAAA,aAGA,IAAMA,EAAU,wEAEVC,EAAa,oEACbC,EAAOC,SAASC,cAAc,MAE9BC,EAAY,WACTC,OAAAA,MAAMN,GACVO,KAAK,SAAAC,GACA,OAACA,EAASC,GAMPD,EAASE,OALPC,WAAW,WACV,MAAA,IAAIC,MAASJ,GAAAA,OAAAA,EAASK,OAAYL,OAAAA,OAAAA,EAASM,cAChD,QAOLC,EAAmB,SAACC,GACjBV,OAAAA,MAASL,GAAAA,OAAAA,GAAae,OAAAA,EAAtB,UACJT,KAAK,SAAAC,GACA,IAACA,EAASC,GACN,MAAA,IAAIG,MAASJ,GAAAA,OAAAA,EAASK,OAAYL,OAAAA,OAAAA,EAASM,aAG5CN,OAAAA,EAASE,UAItBL,IACGE,KAAK,SAAAU,GACEC,IAAAA,EAAYD,EAAOE,IAAI,SAAAH,GAASD,OAAAA,EAAiBC,EAAMI,MAE7DC,QAAQC,IAAIJ,GACTX,KAAK,SAAAgB,GACJA,EAAUC,QAAQ,SAAAR,GACVS,IAAAA,EAAWtB,SAASC,cAAc,MAExCqB,EAASC,UAAYV,EAAMW,KAE3BzB,EAAK0B,OAAOH,SAInBI,MAAM,SAAAC,GACC,MAAA,IAAIlB,MAAMkB,KAGpB3B,SAAS4B,KAAKH,OAAO1B","file":"main.071d7852.js","sourceRoot":"../src","sourcesContent":["'use strict';\n\n// eslint-disable-next-line max-len\nconst listUrl = 'https://mate-academy.github.io/phone-catalogue-static/api/phones.json';\n// eslint-disable-next-line max-len\nconst detailsUrl = 'https://mate-academy.github.io/phone-catalogue-static/api/phones/';\nconst list = document.createElement('ul');\n\nconst getPhones = () => {\n  return fetch(listUrl)\n    .then(response => {\n      if (!response.ok) {\n        return setTimeout(() => {\n          throw new Error(`${response.status} - ${response.statusText}`);\n        }, 5000);\n      }\n\n      return response.json();\n    });\n};\n\nconst getPhonesDetails = (phone) => {\n  return fetch(`${detailsUrl}${phone}.json`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(`${response.status} - ${response.statusText}`);\n      }\n\n      return response.json();\n    });\n};\n\ngetPhones()\n  .then(phones => {\n    const phoneList = phones.map(phone => getPhonesDetails(phone.id));\n\n    Promise.all(phoneList)\n      .then(phoneInfo => {\n        phoneInfo.forEach(phone => {\n          const phoneDOM = document.createElement('li');\n\n          phoneDOM.innerHTML = phone.name;\n\n          list.append(phoneDOM);\n        });\n      });\n  })\n  .catch(error => {\n    throw new Error(error);\n  });\n\ndocument.body.append(list);\n"]}